import{r as e,j as s}from"./react-Dimj0pBb.js";import{c as t}from"./react-dom-BJkYtmJ1.js";import{P as r,S as a,L as n,H as i,a as l,b as c,M as o,c as d,C as m,X as x,d as u,T as h,A as g,U as p,e as j,f as y,g as f,h as b,i as w,B as N,j as v,k,l as z,m as C}from"./lucide-react-CuxYI70t.js";import{c as _}from"./@supabase-D-5WnU7o.js";import{Y as E}from"./react-youtube-M2kUvR4u.js";import{u as S,a as q,L as D,R as P,b as T,c as I,B as A}from"./react-router-DtaqtP6o.js";import"./scheduler-CQYGjB7w.js";import"./prop-types-C2MOzLYM.js";import"./fast-deep-equal-DUaNshVV.js";import"./youtube-player-vvzTRwTr.js";import"./sister-Cr_F-YKp.js";import"./load-script-SvmEDzh3.js";import"./cookie-CcLXHnuS.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const O=e.createContext(void 0),L=(e,s)=>{switch(s.type){case"ADD_ITEM":return e.items.find((e=>e.id===s.payload.id))?{...e,items:e.items.map((e=>e.id===s.payload.id?{...e,quantity:e.quantity+1}:e))}:{...e,items:[...e.items,s.payload]};case"REMOVE_ITEM":return{...e,items:e.items.filter((e=>e.id!==s.payload))};case"UPDATE_QUANTITY":return{...e,items:e.items.map((e=>e.id===s.payload.id?{...e,quantity:s.payload.quantity}:e))};case"CLEAR_CART":return{...e,items:[]};case"TOGGLE_CART":return{...e,isOpen:!e.isOpen};default:return e}},Z=({children:t})=>{const[r,a]=e.useReducer(L,{items:[],isOpen:!1});return s.jsx(O.Provider,{value:{state:r,dispatch:a},children:t})},R=()=>{const s=e.useContext(O);if(void 0===s)throw new Error("useCart must be used within a CartProvider");return s},W=()=>{const{state:t,dispatch:n}=R(),i=t.items.reduce(((e,s)=>e+s.quantity),0),[l,c]=e.useState(!1);e.useEffect((()=>{const e=()=>{window.scrollY>50?c(!0):c(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);const o=e=>{const s=document.getElementById(e);s&&s.scrollIntoView({behavior:"smooth",block:"start"})};return s.jsx("nav",{className:"fixed w-full z-50 transition-all duration-300 "+(l?"bg-green-700":"bg-transparent"),style:l?{color:"white"}:{color:"black"},children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsxs("div",{className:"flex justify-between items-center h-20",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("img",{src:"/images/logo.png",alt:"Logo",className:"h-24 w-24 mt-4 mt-10"})}),s.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[s.jsx("a",{href:"#about",onClick:e=>{e.preventDefault(),o("about")},className:"text-white hover:text-gray-300",children:"O nas"}),s.jsx("a",{href:"#products",onClick:e=>{e.preventDefault(),o("products")},className:"text-white hover:text-gray-300",children:"Produkty"}),s.jsx("a",{href:"#recipes",onClick:e=>{e.preventDefault(),o("recipes")},className:"text-white hover:text-gray-300",children:"Przepisy"}),s.jsx("a",{href:"#events",onClick:e=>{e.preventDefault(),o("events")},className:"text-white hover:text-gray-300",children:"Wydarzenia"}),s.jsxs("button",{className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-full flex items-center",children:[s.jsx(r,{className:"w-4 h-4 mr-2"}),"Zadzwoń"]}),s.jsxs("button",{onClick:()=>n({type:"TOGGLE_CART"}),className:"relative text-white hover:text-gray-300",children:[s.jsx(a,{className:"w-6 h-6"}),i>0&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",children:i})]})]}),s.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[s.jsxs("button",{onClick:()=>n({type:"TOGGLE_CART"}),className:"relative text-white hover:text-gray-300",children:[s.jsx(a,{className:"w-6 h-6"}),i>0&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",children:i})]}),s.jsx("button",{children:s.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})})})},M=()=>{const e=[{icon:s.jsx(n,{className:"w-12 h-12 text-green-600"}),title:"100% Naturalne",description:"Wszystkie nasze produkty pochodzą z certyfikowanych upraw ekologicznych"},{icon:s.jsx(i,{className:"w-12 h-12 text-green-600"}),title:"Zdrowie i Witalność",description:"Wspierają zdrowy styl życia i wzmacniają naturalną odporność organizmu"},{icon:s.jsx(l,{className:"w-12 h-12 text-green-600"}),title:"Świeżość i Jakość",description:"Starannie wyselekcjonowane i przechowywane w optymalnych warunkach"},{icon:s.jsx(c,{className:"w-12 h-12 text-green-600"}),title:"Gwarancja Jakości",description:"Każdy produkt przechodzi rygorystyczne testy jakości"}];return s.jsxs("section",{className:"relative py-16 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 z-0",children:[s.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 bg-green-50 rounded-full opacity-20"}),s.jsx("div",{className:"absolute -bottom-24 -left-24 w-96 h-96 bg-green-50 rounded-full opacity-20"})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-serif text-gray-900 mb-4",children:"Dlaczego Warto Wybrać Naturalne Produkty?"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Odkryj moc natury w każdym naszym produkcie. Stawiamy na jakość, tradycję i zrównoważony rozwój."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map(((e,t)=>s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsx("div",{className:"p-3 bg-green-50 rounded-full",children:e.icon})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:e.title}),s.jsx("p",{className:"text-gray-600 text-center",children:e.description})]},t)))}),s.jsx("div",{className:"mt-16 text-center",children:s.jsx("p",{className:"text-sm text-gray-500 max-w-2xl mx-auto italic",children:'"Natura dała nam wszystko, czego potrzebujemy do zdrowego i szczęśliwego życia. Naszą misją jest dostarczanie tych darów w najczystszej formie."'})})]})]})},G=()=>s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-12 items-center",children:[s.jsx("div",{className:"relative",children:s.jsx("img",{id:"about",src:"/about.jpg",alt:"O mnie",className:"rounded-lg shadow-xl",loading:"lazy"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-4xl font-serif text-gray-900 mb-6",children:"O mnie"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Zapraszam Cię do mojej kaflowej kuchni i chlebowego pieca. Tutaj, w sercu natury, tworzę wyjątkowe mieszanki przypraw i ziół, które nie tylko nadają smak potrawom, ale także wspierają zdrowie i dobre samopoczucie."}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Gotujmy na ogniu, dbajmy o zdrowie, pogadajmy o życiu i świadomie korzystajmy z dobrodziejstwa przypraw."}),s.jsx("button",{className:"bg-green-800 hover:bg-green-900 text-white px-6 py-3 rounded-full",children:"Porozmawiajmy"})]})]})}),F=_("https://aadwfmibefkkxrackenn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFhZHdmbWliZWZra3hyYWNrZW5uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDAxMjYzODcsImV4cCI6MjA1NTcwMjM4N30.g_Mx0TV8HMYsmEt4VngP2np62VGN2qZuy4BQDy3GVuk",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});F.from("orders").select("count").single().then((({error:e})=>{e?console.error("Supabase connection error:",e):console.log("✅ Supabase connection successful")}));const V=async()=>{var e,s;const{data:{session:t}}=await F.auth.getSession();return"nina"===(null==(s=null==(e=null==t?void 0:t.user)?void 0:e.user_metadata)?void 0:s.username)};function Y(){const[s,t]=e.useState([]);async function r(){const{data:e,error:s}=await F.from("products").select("*").order("created_at",{ascending:!1});s?console.error("Error fetching products:",s):t(e||[])}return e.useEffect((()=>{r()}),[]),{products:s,addProduct:async function(e){const{error:s}=await F.from("products").insert([e]);s?console.error("Error adding product:",s):r()},updateProduct:async function(e){const{error:s}=await F.from("products").update(e).eq("id",e.id);s?console.error("Error updating product:",s):r()},deleteProduct:async function(e){const{error:s}=await F.from("products").delete().eq("id",e);s?console.error("Error deleting product:",s):r()}}}function B(){const[s,t]=e.useState([]),[r,a]=e.useState(!0),[n,i]=e.useState(null);async function l(){try{a(!0);const{data:e,error:s}=await F.from("categories").select("*").order("name");if(s)throw s;t(e||[])}catch(e){console.error("Error fetching categories:",e),i(e instanceof Error?e.message:"An error occurred")}finally{a(!1)}}return e.useEffect((()=>{l()}),[]),{categories:s,loading:r,error:n,addCategory:async function(e){try{const s=e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),{error:t}=await F.from("categories").insert([{name:e,slug:s}]);if(t)throw t;await l()}catch(s){throw console.error("Error adding category:",s),s}},updateCategory:async function(e,s){try{const t=s.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),{error:r}=await F.from("categories").update({name:s,slug:t}).eq("id",e);if(r)throw r;await l()}catch(t){throw console.error("Error updating category:",t),t}},deleteCategory:async function(e){try{const{error:s}=await F.from("categories").delete().eq("id",e);if(s)throw s;await l()}catch(s){throw console.error("Error deleting category:",s),s}}}}const J=()=>{const{products:t}=Y(),{categories:r}=B(),{dispatch:n}=R(),[i,l]=e.useState(null),c=i?t.filter((e=>e.category_id===i)):t;return s.jsx("section",{className:"py-20 bg-gray-50",id:"products",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsx("h2",{id:"products",className:"text-4xl font-serif text-gray-900 mb-8 text-center",children:"Nasze Produkty"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:[s.jsx("button",{onClick:()=>l(null),className:"px-6 py-2 rounded-full transition-colors duration-200 "+(null===i?"bg-green-800 text-white":"bg-white text-gray-700 hover:bg-green-100"),children:"Wszystkie"}),r.map((e=>s.jsx("button",{onClick:()=>l(e.id),className:"px-6 py-2 rounded-full transition-colors duration-200 "+(i===e.id?"bg-green-800 text-white":"bg-white text-gray-700 hover:bg-green-100"),children:e.name},e.id)))]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map((e=>{var t;return s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden transform hover:-translate-y-1 transition-transform duration-200",children:[s.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-64 object-cover",loading:"lazy"}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"text-sm text-green-800 font-medium",children:null==(t=r.find((s=>s.id===e.category_id)))?void 0:t.name})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-2xl font-bold text-green-800",children:[e.price," zł"]}),s.jsxs("button",{onClick:()=>(e=>{n({type:"ADD_ITEM",payload:{id:e.id,title:e.title,price:parseFloat(e.price),quantity:1}}),n({type:"TOGGLE_CART"})})(e),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-full flex items-center gap-2",children:[s.jsx(a,{className:"w-5 h-5"}),"Dodaj do koszyka"]})]})]})]},e.id)}))})]})})};function U(){const[s,t]=e.useState([]);async function r(){const{data:e,error:s}=await F.from("recipes").select("*").order("created_at",{ascending:!1});s?console.error("Error fetching recipes:",s):t(e||[])}return e.useEffect((()=>{r()}),[]),{recipes:s,addRecipe:async function(e){const{error:s}=await F.from("recipes").insert([e]);s?console.error("Error adding recipe:",s):r()},updateRecipe:async function(e){const{error:s}=await F.from("recipes").update(e).eq("id",e.id);s?console.error("Error updating recipe:",s):r()},deleteRecipe:async function(e){const{error:s}=await F.from("recipes").delete().eq("id",e);s?console.error("Error deleting recipe:",s):r()}}}const K=()=>{const{recipes:e}=U(),t=S(),r=e=>{const s=null==e?void 0:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return s&&11===s[2].length?s[2]:null};return s.jsx("section",{className:"py-20 bg-white",id:"recipes",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsx("h2",{className:"text-4xl font-serif text-gray-900 mb-12 text-center",children:"Przepisy"}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:e.map((e=>s.jsxs("article",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[e.youtube_url?s.jsx("div",{className:"aspect-w-16 aspect-h-9",children:s.jsx(E,{videoId:r(e.youtube_url)||"",className:"w-full",opts:{width:"100%",height:"360",playerVars:{modestbranding:1}}})}):s.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-64 object-cover",loading:"lazy"}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-2xl font-serif mb-4",children:e.title}),s.jsxs("p",{className:"text-gray-600 mb-6 line-clamp-3",children:[e.content.substring(0,150),"..."]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-500",children:new Date(e.created_at).toLocaleDateString("pl-PL",{year:"numeric",month:"long",day:"numeric"})}),s.jsx("button",{onClick:()=>t(`/recipes/${e.id}`),className:"bg-green-800 hover:bg-green-900 text-white px-6 py-2 rounded-full transition-colors duration-200",children:"Czytaj więcej"})]})]})]},e.id)))})]})})};function $(){const[s,t]=e.useState([]);async function r(){const{data:e,error:s}=await F.from("events").select("*").order("created_at",{ascending:!1});s?console.error("Error fetching events:",s):t(e||[])}return e.useEffect((()=>{r()}),[]),{events:s,addEvent:async function(e){const{error:s}=await F.from("events").insert([e]);s?console.error("Error adding event:",s):r()},updateEvent:async function(e){const{error:s}=await F.from("events").update(e).eq("id",e.id);s?console.error("Error updating event:",s):r()},deleteEvent:async function(e){const{error:s}=await F.from("events").delete().eq("id",e);s?console.error("Error deleting event:",s):r()}}}const Q=()=>{const{events:e}=$();return s.jsx("section",{className:"py-20 bg-gray-50",id:"events",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsx("h2",{className:"text-4xl font-serif text-gray-900 mb-12 text-center",children:"Nadchodzące Wydarzenia"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((e=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-48 object-cover"}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title}),s.jsxs("div",{className:"flex items-start gap-2 mb-4",children:[s.jsx(o,{className:"w-5 h-5 text-gray-500 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:e.address}),s.jsx("a",{href:e.maps_url,target:"_blank",rel:"noopener noreferrer",className:"text-green-800 hover:text-green-900 text-sm",children:"Zobacz na mapie →"})]})]})]})]},e.id)))})]})})},H=()=>{const{categories:t,addCategory:r,updateCategory:a,deleteCategory:n}=B(),[i,l]=e.useState(!1),[c,o]=e.useState(null),[g,p]=e.useState(""),[j,y]=e.useState("");return s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Zarządzaj Kategoriami"}),s.jsxs("button",{onClick:()=>l(!0),className:"bg-green-800 text-white px-3 py-1 rounded-lg flex items-center gap-1 hover:bg-green-900",children:[s.jsx(d,{className:"w-4 h-4"}),"Dodaj Kategorię"]})]}),s.jsxs("div",{className:"space-y-2",children:[i&&s.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{await r(g),p(""),l(!1)}catch(s){alert("Error adding category")}},className:"flex items-center gap-2 p-2 bg-green-50 rounded-lg",children:[s.jsx("input",{type:"text",value:g,onChange:e=>p(e.target.value),placeholder:"Nazwa kategorii",className:"flex-1 px-3 py-1 border rounded",autoFocus:!0}),s.jsx("button",{type:"submit",className:"text-green-700 hover:text-green-900",children:s.jsx(m,{className:"w-5 h-5"})}),s.jsx("button",{type:"button",onClick:()=>l(!1),className:"text-red-700 hover:text-red-900",children:s.jsx(x,{className:"w-5 h-5"})})]}),t.map((e=>s.jsx("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg",children:c===e.id?s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx("input",{type:"text",value:j,onChange:e=>y(e.target.value),className:"flex-1 px-3 py-1 border rounded",autoFocus:!0}),s.jsx("button",{onClick:()=>(async e=>{try{await a(e,j),o(null),y("")}catch(s){alert("Error updating category")}})(e.id),className:"text-green-700 hover:text-green-900",children:s.jsx(m,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>{o(null),y("")},className:"text-red-700 hover:text-red-900",children:s.jsx(x,{className:"w-5 h-5"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:e.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>{o(e.id),y(e.name)},className:"text-gray-600 hover:text-gray-900",children:s.jsx(u,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this category?"))try{await n(e)}catch(s){alert("Error deleting category")}})(e.id),className:"text-red-600 hover:text-red-900",children:s.jsx(h,{className:"w-4 h-4"})})]})]})},e.id)))]})]})},X=()=>{const{products:t,addProduct:r,updateProduct:a,deleteProduct:n}=Y(),{categories:i}=B(),[l,c]=e.useState(!1),[o,m]=e.useState({id:"",title:"",description:"",price:"",image_url:"",category_id:""});return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-serif",children:"Zarządzaj Produktami"}),!l&&s.jsxs("button",{onClick:()=>c(!0),className:"bg-green-800 hover:bg-green-900 text-white px-4 py-2 rounded-lg flex items-center",children:[s.jsx(d,{className:"w-5 h-5 mr-2"}),"Dodaj Produkt"]})]}),s.jsx(H,{}),l?s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),o.id?await a(o):await r(o),c(!1),m({id:"",title:"",description:"",price:"",image_url:"",category_id:""})},className:"space-y-4 bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Kategoria"}),s.jsxs("select",{value:o.category_id,onChange:e=>m({...o,category_id:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",required:!0,children:[s.jsx("option",{value:"",children:"Wybierz kategorię"}),i.map((e=>s.jsx("option",{value:e.id,children:e.name},e.id)))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tytuł"}),s.jsx("input",{type:"text",value:o.title,onChange:e=>m({...o,title:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Opis"}),s.jsx("textarea",{value:o.description,onChange:e=>m({...o,description:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",rows:3,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cena (zł)"}),s.jsx("input",{type:"number",value:o.price,onChange:e=>m({...o,price:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zdjęcie"}),s.jsx("input",{type:"file",accept:"image/*",onChange:async e=>{var s;null==(s=e.target.files)||s[0]},className:"mt-1 block w-full"})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>{c(!1),m({id:"",title:"",description:"",price:"",image_url:"",category_id:""})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Anuluj"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-800 text-white rounded-md hover:bg-green-900",children:o.id?"Zapisz zmiany":"Dodaj produkt"})]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map((e=>{var t;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-48 object-cover rounded-lg mb-4"}),s.jsx("h3",{className:"font-semibold text-lg mb-2",children:e.title}),s.jsx("p",{className:"text-gray-600 mb-2",children:e.description}),s.jsxs("p",{className:"text-green-800 font-bold mb-2",children:[e.price," zł"]}),s.jsxs("p",{className:"text-gray-500 mb-4",children:["Kategoria: ",(null==(t=i.find((s=>s.id===e.category_id)))?void 0:t.name)||"Brak kategorii"]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>{m(e),c(!0)},className:"p-2 text-gray-600 hover:text-green-800",children:s.jsx(u,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>n(e.id),className:"p-2 text-gray-600 hover:text-red-600",children:s.jsx(h,{className:"w-5 h-5"})})]})]},e.id)}))})]})},ee=()=>{const{recipes:t,addRecipe:r,updateRecipe:a,deleteRecipe:n}=U(),[i,l]=e.useState(!1),[c,o]=e.useState({id:"",title:"",content:"",image_url:"",youtube_url:""});return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-serif",children:"Zarządzaj Przepisami"}),!i&&s.jsxs("button",{onClick:()=>l(!0),className:"bg-green-800 hover:bg-green-900 text-white px-4 py-2 rounded-lg flex items-center",children:[s.jsx(d,{className:"w-5 h-5 mr-2"}),"Dodaj Przepis"]})]}),i?s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),c.id?await a(c):await r(c),l(!1),o({id:"",title:"",content:"",image_url:"",youtube_url:""})},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tytuł"}),s.jsx("input",{type:"text",value:c.title,onChange:e=>o({...c,title:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Treść"}),s.jsx("textarea",{value:c.content,onChange:e=>o({...c,content:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",rows:10,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Link do YouTube"}),s.jsx("input",{type:"url",value:c.youtube_url,onChange:e=>o({...c,youtube_url:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",placeholder:"https://www.youtube.com/watch?v=..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zdjęcie"}),s.jsx("input",{type:"file",accept:"image/*",onChange:async e=>{var s;null==(s=e.target.files)||s[0]},className:"mt-1 block w-full"})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>{l(!1),o({id:"",title:"",content:"",image_url:"",youtube_url:""})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Anuluj"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-800 text-white rounded-md hover:bg-green-900",children:c.id?"Zapisz zmiany":"Dodaj przepis"})]})]}):s.jsx("div",{className:"space-y-6",children:t.map((e=>s.jsxs("div",{className:"border rounded-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-xl mb-2",children:e.title}),s.jsx("p",{className:"text-gray-500 text-sm mb-4",children:new Date(e.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>{o(e),l(!0)},className:"p-2 text-gray-600 hover:text-green-800",children:s.jsx(u,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>n(e.id),className:"p-2 text-gray-600 hover:text-red-600",children:s.jsx(h,{className:"w-5 h-5"})})]})]}),s.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-48 object-cover rounded-lg mb-4"}),s.jsxs("div",{className:"prose max-w-none",children:[e.content.substring(0,200),"..."]})]},e.id)))})]})},se=()=>{const{events:t,addEvent:r,updateEvent:a,deleteEvent:n}=$(),[i,l]=e.useState(!1),[c,m]=e.useState({id:"",title:"",address:"",maps_url:"",image_url:""});return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-serif",children:"Zarządzaj Wydarzeniami"}),!i&&s.jsxs("button",{onClick:()=>l(!0),className:"bg-green-800 hover:bg-green-900 text-white px-4 py-2 rounded-lg flex items-center",children:[s.jsx(d,{className:"w-5 h-5 mr-2"}),"Dodaj Wydarzenie"]})]}),i?s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),c.id?await a(c):await r(c),l(!1),m({id:"",title:"",address:"",maps_url:"",image_url:""})},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tytuł"}),s.jsx("input",{type:"text",value:c.title,onChange:e=>m({...c,title:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Adres"}),s.jsx("input",{type:"text",value:c.address,onChange:e=>m({...c,address:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Link do Google Maps"}),s.jsx("input",{type:"url",value:c.maps_url,onChange:e=>m({...c,maps_url:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",placeholder:"https://www.google.com/maps?q=...",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zdjęcie"}),s.jsx("input",{type:"file",accept:"image/*",onChange:async e=>{var s;null==(s=e.target.files)||s[0]},className:"mt-1 block w-full"})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>{l(!1),m({id:"",title:"",address:"",maps_url:"",image_url:""})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Anuluj"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-800 text-white rounded-md hover:bg-green-900",children:c.id?"Zapisz zmiany":"Dodaj wydarzenie"})]})]}):s.jsx("div",{className:"space-y-4",children:t.map((e=>s.jsxs("div",{className:"border rounded-lg p-4 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium",children:e.title}),s.jsxs("div",{className:"flex items-center text-gray-500",children:[s.jsx(o,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:e.address})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>{m(e),l(!0)},className:"p-2 text-gray-600 hover:text-gray-900",children:s.jsx(u,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>n(e.id),className:"p-2 text-red-600 hover:text-red-900",children:s.jsx(h,{className:"w-5 h-5"})})]})]},e.id)))})]})};const te=()=>{const{orders:t,error:a,updateOrderStatus:n}=function(){const[s,t]=e.useState([]),[r,a]=e.useState(null);async function n(){try{const{data:e,error:s}=await F.from("orders").select("*").order("created_at",{ascending:!1});if(s)return console.error("Error fetching orders:",s),void a(s.message);t(e||[]),a(null)}catch(e){console.error("Error in fetchOrders:",e),a("Failed to fetch orders")}}return e.useEffect((()=>{n()}),[]),{orders:s,error:r,updateOrderStatus:async function(e,s){try{const{error:t}=await F.from("orders").update({status:s}).eq("id",e);if(t)return console.error("Error updating order status:",t),void a(t.message);await n(),a(null)}catch(t){console.error("Error in updateOrderStatus:",t),a("Failed to update order status")}}}}(),i=e=>{switch(e){case"new":return"bg-blue-100 text-blue-800";case"processing":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},l=e=>{switch(e){case"new":return"Nowe";case"processing":return"W realizacji";case"completed":return"Zrealizowane";case"cancelled":return"Anulowane";default:return e}};return a?s.jsxs("div",{className:"text-center py-12",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-600 mb-4",children:[s.jsx(g,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Error loading orders"})]}),s.jsx("p",{className:"text-gray-600",children:a})]}):t&&0!==t.length?s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h2",{className:"text-2xl font-serif",children:"Zarządzaj Zamówieniami"})}),s.jsx("div",{className:"space-y-6",children:t.map((e=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(p,{className:"w-5 h-5 text-gray-500"}),s.jsx("span",{className:"font-semibold",children:e.customer_name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(r,{className:"w-5 h-5 text-gray-500"}),s.jsx("a",{href:`tel:${e.customer_phone}`,className:"text-green-800 hover:text-green-900",children:e.customer_phone})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(j,{className:"w-5 h-5 text-gray-500"}),s.jsx("span",{className:"text-gray-500",children:new Date(e.created_at).toLocaleDateString("pl-PL",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),s.jsxs("div",{className:"border-t border-b py-4 my-4",children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(y,{className:"w-5 h-5"}),"Zamówione produkty"]}),s.jsx("div",{className:"space-y-2",children:Array.isArray(e.items)&&e.items.map(((e,t)=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{children:[e.title," × ",e.quantity]}),s.jsxs("span",{className:"text-gray-600",children:[(e.price*e.quantity).toFixed(2)," zł"]})]},t)))}),s.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-between items-center font-semibold",children:[s.jsx("span",{children:"Razem"}),s.jsxs("span",{children:[Number(e.total_amount).toFixed(2)," zł"]})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${i(e.status)}`,children:l(e.status)}),s.jsxs("div",{className:"flex gap-2",children:["new"===e.status&&s.jsx("button",{onClick:()=>n(e.id,"processing"),className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600",children:"Przyjmij do realizacji"}),"processing"===e.status&&s.jsx("button",{onClick:()=>n(e.id,"completed"),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600",children:"Oznacz jako zrealizowane"}),("new"===e.status||"processing"===e.status)&&s.jsx("button",{onClick:()=>n(e.id,"cancelled"),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600",children:"Anuluj"})]})]})]},e.id)))})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-serif mb-4",children:"Brak zamówień"}),s.jsx("p",{className:"text-gray-600",children:"Nie ma jeszcze żadnych zamówień w systemie."})]})},re=()=>{const t=q();S();const[r,a]=e.useState(!1),[n,i]=e.useState(!0),[l,c]=e.useState("");e.useEffect((()=>{o()}),[]);const o=async()=>{try{const e=await V();a(e)}catch(e){console.error("Error checking auth status:",e)}finally{i(!1)}},d=async e=>{e.preventDefault(),c("");const s=new FormData(e.currentTarget),t=s.get("username"),r=s.get("password");try{const{data:e,error:s}=await F.auth.signInWithPassword({email:`${t}@admin.com`,password:r});if(s)throw s;if(!(await V()))throw await F.auth.signOut(),new Error("No tienes permisos de administrador");a(!0)}catch(n){console.error("Error logging in:",n),c("Credenciales inválidas")}};return n?s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-800"})}):r?s.jsxs("div",{className:"min-h-screen bg-gray-100",children:[s.jsx("nav",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{className:"w-6 h-6 text-gray-500"}),s.jsx("span",{className:"ml-2 font-semibold",children:"Panel Administracyjny"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(D,{to:"/",className:"text-green-800 hover:text-green-900",children:"← Powrót do strony głównej"}),s.jsx("button",{onClick:async()=>{await F.auth.signOut(),a(!1)},className:"text-red-600 hover:text-red-800",children:"Cerrar sesión"})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("aside",{className:"space-y-2",children:[s.jsxs(D,{to:"/edit/orders",className:"flex items-center space-x-2 p-3 rounded-lg "+("/edit/orders"===t.pathname?"bg-green-800 text-white":"hover:bg-gray-200"),children:[s.jsx(w,{className:"w-5 h-5"}),s.jsx("span",{children:"Zamówienia"})]}),s.jsxs(D,{to:"/edit/products",className:"flex items-center space-x-2 p-3 rounded-lg "+("/edit/products"===t.pathname?"bg-green-800 text-white":"hover:bg-gray-200"),children:[s.jsx(y,{className:"w-5 h-5"}),s.jsx("span",{children:"Produkty"})]}),s.jsxs(D,{to:"/edit/recipes",className:"flex items-center space-x-2 p-3 rounded-lg "+("/edit/recipes"===t.pathname?"bg-green-800 text-white":"hover:bg-gray-200"),children:[s.jsx(N,{className:"w-5 h-5"}),s.jsx("span",{children:"Przepisy"})]}),s.jsxs(D,{to:"/edit/events",className:"flex items-center space-x-2 p-3 rounded-lg "+("/edit/events"===t.pathname?"bg-green-800 text-white":"hover:bg-gray-200"),children:[s.jsx(v,{className:"w-5 h-5"}),s.jsx("span",{children:"Wydarzenia"})]})]}),s.jsx("main",{className:"md:col-span-3 bg-white rounded-lg shadow p-6",children:s.jsxs(P,{children:[s.jsx(T,{path:"/orders",element:s.jsx(te,{})}),s.jsx(T,{path:"/products",element:s.jsx(X,{})}),s.jsx(T,{path:"/recipes",element:s.jsx(ee,{})}),s.jsx(T,{path:"/events",element:s.jsx(se,{})}),s.jsx(T,{path:"/",element:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-serif mb-4",children:"Witaj w panelu administracyjnym"}),s.jsx("p",{className:"text-gray-600",children:"Wybierz sekcję z menu po lewej stronie."})]})})]})})]})})]}):s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[s.jsx("h2",{className:"text-2xl font-serif mb-6 text-center",children:"Panel Administracyjny"}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Usuario"}),s.jsx("input",{type:"text",name:"username",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contraseña"}),s.jsx("input",{type:"password",name:"password",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500"})]}),l&&s.jsx("p",{className:"text-red-600 text-sm text-center",children:l}),s.jsxs("button",{type:"submit",className:"w-full bg-green-800 text-white py-2 px-4 rounded-lg hover:bg-green-900 flex items-center justify-center gap-2",children:[s.jsx(f,{className:"w-5 h-5"}),"Iniciar sesión"]})]})]})})},ae=()=>{const{id:e}=I(),t=S(),{recipes:r}=U(),a=r.find((s=>s.id===e));if(!a)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-4",children:"Przepis nie został znaleziony"}),s.jsxs("button",{onClick:()=>t(-1),className:"text-green-800 hover:text-green-900 font-semibold flex items-center justify-center gap-2",children:[s.jsx(k,{className:"w-5 h-5"}),"Wróć do przepisów"]})]})});return s.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:s.jsxs("article",{className:"max-w-4xl mx-auto px-4 py-12",children:[s.jsxs("button",{onClick:()=>t(-1),className:"text-green-800 hover:text-green-900 font-semibold flex items-center gap-2 mb-8",children:[s.jsx(k,{className:"w-5 h-5"}),"Wróć do przepisów"]}),s.jsx("img",{src:a.image_url,alt:a.title,className:"w-full h-[400px] object-cover rounded-2xl shadow-lg mb-8"}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[s.jsx("h1",{className:"text-4xl font-serif text-gray-900 mb-4",children:a.title}),s.jsxs("div",{className:"text-gray-500 mb-8",children:["Opublikowano: ",new Date(a.created_at).toLocaleDateString("pl-PL",{year:"numeric",month:"long",day:"numeric"})]}),s.jsx("div",{className:"prose max-w-none mb-12",children:a.content.split("\n").map(((e,t)=>s.jsx("p",{className:"mb-4",children:e},t)))}),a.youtube_url&&s.jsxs("div",{className:"mt-12",children:[s.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-6",children:"Zobacz wideo"}),s.jsx("div",{className:"aspect-w-16 aspect-h-9",children:s.jsx(E,{videoId:(e=>{const s=null==e?void 0:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return s&&11===s[2].length?s[2]:null})(a.youtube_url)||"",className:"w-full rounded-xl overflow-hidden",opts:{width:"100%",height:"100%",playerVars:{autoplay:0}}})})]})]})]})})},ne=()=>{const{state:t,dispatch:r}=R(),[n,i]=e.useState({name:"",phone:""}),[l,c]=e.useState(!1),[o,m]=e.useState(null),u=t.items.reduce(((e,s)=>e+s.price*s.quantity),0),h=(e,s)=>{const a=t.items.find((s=>s.id===e));if(a){const t=a.quantity+s;r(t>0?{type:"UPDATE_QUANTITY",payload:{id:e,quantity:t}}:{type:"REMOVE_ITEM",payload:e})}};return t.isOpen?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",children:s.jsx("div",{className:"absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-xl",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(a,{className:"w-5 h-5"}),"Koszyk"]}),s.jsx("button",{onClick:()=>r({type:"TOGGLE_CART"}),className:"text-gray-500 hover:text-gray-700",children:s.jsx(x,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:0===t.items.length?s.jsx("p",{className:"text-center text-gray-500 mt-8",children:"Twój koszyk jest pusty"}):s.jsx("div",{className:"space-y-4",children:t.items.map((e=>s.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold",children:e.title}),s.jsxs("p",{className:"text-green-800",children:[e.price.toFixed(2)," zł"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>h(e.id,-1),className:"p-1 hover:bg-gray-200 rounded",children:s.jsx(z,{className:"w-4 h-4"})}),s.jsx("span",{className:"w-8 text-center",children:e.quantity}),s.jsx("button",{onClick:()=>h(e.id,1),className:"p-1 hover:bg-gray-200 rounded",children:s.jsx(d,{className:"w-4 h-4"})})]})]},e.id)))})}),t.items.length>0&&s.jsxs("div",{className:"border-t p-4",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-lg font-semibold",children:["Razem: ",u.toFixed(2)," zł"]})}),s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),c(!0),m(null);try{const{error:e}=await F.from("orders").insert([{customer_name:n.name,customer_phone:n.phone,items:t.items,total_amount:u,status:"new"}]);if(e)throw e;r({type:"CLEAR_CART"}),r({type:"TOGGLE_CART"}),i({name:"",phone:""})}catch(s){m("Wystąpił błąd podczas składania zamówienia. Spróbuj ponownie.")}finally{c(!1)}},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Imię i nazwisko"}),s.jsx("input",{type:"text",required:!0,value:n.name,onChange:e=>i({...n,name:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Numer telefonu"}),s.jsx("input",{type:"tel",required:!0,value:n.phone,onChange:e=>i({...n,phone:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500"})]}),o&&s.jsx("p",{className:"text-red-600 text-sm",children:o}),s.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-800 text-white py-2 px-4 rounded-full hover:bg-green-900 disabled:opacity-50",children:l?"Składanie zamówienia...":"Złóż zamówienie"})]})]})]})})}):null};function ie(){return s.jsx(Z,{children:s.jsx(A,{children:s.jsxs(P,{children:[s.jsx(T,{path:"/edit/*",element:s.jsx(re,{})}),s.jsx(T,{path:"/recipes/:id",element:s.jsx(ae,{})}),s.jsx(T,{path:"/",element:s.jsx(le,{})})]})})})}function le(){const[t,r]=e.useState(!1),a=e.useRef(null);return e.useEffect((()=>{const e=new Image;e.src="./images/background3.png",e.onload=()=>r(!0)}),[]),s.jsxs("div",{className:"min-h-screen",children:[s.jsx(W,{}),s.jsx(ne,{}),s.jsxs("div",{className:"h-screen relative bg-cover bg-center "+(t?"zoom-effect":""),style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${t?"./images/background3.png":""})`,transition:"background-image 0.5s ease-in-out"},ref:a,children:[s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center text-white px-4",children:[s.jsx("h1",{className:"text-6xl md:text-7xl font-serif mb-4",children:"Przyprawy do życia"}),s.jsx("h2",{className:"text-2xl md:text-3xl text-yellow-400 font-light mb-6",children:"Nina Fierkowicz"}),s.jsx("p",{className:"text-xl md:text-2xl mb-12 max-w-2xl",children:"Naturalne przyprawy i zioła, które odmienią Twoją kuchnię"}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4"})]}),s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:s.jsx(C,{className:"w-8 h-8 text-white"})})]}),s.jsx(G,{id:"about"}),s.jsx(J,{id:"products"}),s.jsx(K,{id:"recipes"}),s.jsx(Q,{id:"events"}),s.jsx(M,{})]})}t(document.getElementById("root")).render(s.jsx(e.StrictMode,{children:s.jsx(ie,{})}));
